<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="kikita's Blog"><title>shapefile与GDB中不能允许存在的几何错误 | kikita &amp; Maps</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-74191197-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">shapefile与GDB中不能允许存在的几何错误</h1><a id="logo" href="/.">kikita &amp; Maps</a><p class="description">For Tech and Fun</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">shapefile与GDB中不能允许存在的几何错误</h1><div class="post-meta">Dec 5, 2013<span> | </span><span class="category"><a href="/categories/木工开物/">木工开物</a></span></div><div class="post-content"><p>每种软件都有自己的数据规范，ArcGIS也不例外，当数据不满足ArcGIS的规范时，就会遇到各种无响应和崩溃。</p>
<p>有关数据几何错误总是问题相对较多的部分。其中，shapefile作为一种开放的格式，除了ArcGIS程序可以读写，也可以按照数据规范在非ArcGIS环境中生产。后者生产的数据通常包含这样那样的问题，这些问题都是几何错误的范畴。</p>
<p>帮助原文说的精辟：</p>
<blockquote>
<p>The shapefile is an open format to which many software packages write. Unfortunately, some of these software packages—sometimes due to bugs, sometimes due to lack of knowledge—do not follow the documented specification of the shapefile format.</p>
</blockquote>
<p>简单罗列下ArcGIS中不能允许的几何错误类型：</p>
<p><strong>短线段/Short segment</strong><br>Some segments are shorter than allowed by the system units of the spatial reference associated with the geometry.</p>
<p><strong>空几何/Null geometry</strong><br>The feature has no geometry or nothing in the SHAPE field.</p>
<p><strong>不正确的环顺序/Incorrect ring ordering</strong><br>The polygon is topologically simple, but its rings may not be oriented correctly (outer rings—clockwise, inner rings—counterclockwise).</p>
<p>不正确的线段方向/Incorrect segment orientation<br>Individual segments are not consistently oriented. The “to” point of seg i should be incident on the “from” point of seg i+1.</p>
<p><strong>自相交/Self intersections</strong><br>A polygon must not intersect itself.</p>
<p><strong>非封闭环/Unclosed rings</strong><br>The last segment in a ring must have its “to” point incident on the “from” point of the first segment.</p>
<p><strong>空部分/Empty parts</strong><br>The geometry has multiple parts and one of them is empty (has no geometry).</p>
<p><strong>重复折点/Duplicate vertex</strong><br>The geometry has two or more vertices with identical coordinates.</p>
<p><strong>属性不匹配/Mismatched attributes</strong><br>The Z or M coordinate of a line segment’s endpoint does not match the Z or M coordinate of the coincident endpoint on the next segment.</p>
<p><strong>不连续部分/Discontinuous parts</strong><br>One of the geometry’s part is made up of disconnected or discontinuous parts.</p>
<p><strong>空Z值/Empty Z values</strong><br>The geometry has one or more vertex with empty Z value (NaN, for example).</p>
<p>以上的错误，可以用使用工具 Check Geometry 进行检查，工具会生成有关几何错误的报表。使用 Repaired Geometry 工具进行修复。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://www.kikitamap.com/2013/12/05/GeometryErrorinshapefileGDB/" data-id="cje9e5v82006ekcosvcepkmzp" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACpElEQVR42u3aMW4EIRAEQP//0+fUknW4e4D1BUW0svbWFAEzavj6isfrx/j993fPp8bv7x8eeHh4eBtTX396DVi/uX5+t2TrpVzPGQ8PD+82L/lcUiTaZVp/IVmyPyx4eHh4H8Bb/3bd+ObUY0UFDw8P7wN4eXvdLtY6/sDDw8P7NF4eobYN8awR/4esBQ8PDy/m5adIn/N85XwPDw8Pb/tUfXaEP1vjPPwtZouHh4d3gbcTDeRBw85lgrZdxsPDw7vNywOC/Q29jYzXc0uuGuDh4eE9z2sj2rYw7DTx0RUEPDw8vAu89sd5kWivFLRNdlHG8PDw8C7w9pvjNrptj/wPBMd4eHh4R3n5xp1fmWqb7JydtOZ4eHh493hJw9qGDrOINm++i/KAh4eHd5nX1pP2yKpF5q18lLLg4eHhPcjLI9TkO/nFqXwmb9/Hw8PDu8Zrkck/yEONs0Xij0tXeHh4eEd5O83rbLqzQGR49IWHh4d3iJdv3Pk7bbSRl6Kdq114eHh4p3j5dj9rshNYHk+0/xcPDw/vGd7O4VMe1+aBxfUwAg8PD6/k5eMVjHzqSSu/Ux7qgYeHhxfzXqMxm1wbN8x+FbXUeHh4eId4O9v3fozbBrtRM42Hh4d3gZdPrj2ISqa+f/mgOAbDw8PDu8A7td3ngPaorD02w8PDw3ue1xaJYrMeLfQsLsHDw8N7kpcXhllMUG/xcRXAw8PDu8ebbbiz99sCEB1xrZF4eHh4F3j7l66SzyWlYuf5WD3Bw8PDG+WcO4DZ8f/skkFRVPDw8PCu8WYber4bb+Ulh+MXPDw8vP/ktdHD7P2tpcfDw8P7MN7Zk6adCwQX6x4eHh7eRs45Kw/thNpApLh0hYeHh3eIdyog2L9w8NBFATw8PLw57xujLCIWFYFMDgAAAABJRU5ErkJggg==">Share</a><div class="tags"><a href="/tags/Geodata/">Geodata</a></div><div class="post-nav"><a class="pre" href="/2014/01/06/RasterSupportinCityEngine/">CityEngine支持多少种栅格数据？</a><a class="next" href="/2013/12/02/SansSerifVSSerif/">Sans Serif 和 Serif 字体</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zMjMyOC84ODg5"><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/木工开物/">木工开物</a><span class="category-list-count">152</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/相机里/">相机里</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/碎碎念/">碎碎念</a><span class="category-list-count">6</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Geoprocessing/" style="font-size: 15px;">Geoprocessing</a> <a href="/tags/Coordinate-System/" style="font-size: 15px;">Coordinate System</a> <a href="/tags/Raster/" style="font-size: 15px;">Raster</a> <a href="/tags/Geodata/" style="font-size: 15px;">Geodata</a> <a href="/tags/3D/" style="font-size: 15px;">3D</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/ArcGIS-Pro/" style="font-size: 15px;">ArcGIS Pro</a> <a href="/tags/ArcGIS-Enterprise/" style="font-size: 15px;">ArcGIS Enterprise</a> <a href="/tags/License/" style="font-size: 15px;">License</a> <a href="/tags/Deployment/" style="font-size: 15px;">Deployment</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Mapping/" style="font-size: 15px;">Mapping</a> <a href="/tags/Map-Story/" style="font-size: 15px;">Map Story</a> <a href="/tags/Spatial-Statistics/" style="font-size: 15px;">Spatial Statistics</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/CityEngine/" style="font-size: 15px;">CityEngine</a> <a href="/tags/ArcPad/" style="font-size: 15px;">ArcPad</a> <a href="/tags/CAD/" style="font-size: 15px;">CAD</a> <a href="/tags/Performance/" style="font-size: 15px;">Performance</a> <a href="/tags/Spatial-Analyst/" style="font-size: 15px;">Spatial Analyst</a> <a href="/tags/CGA/" style="font-size: 15px;">CGA</a> <a href="/tags/Visual-Studio/" style="font-size: 15px;">Visual Studio</a> <a href="/tags/Certification/" style="font-size: 15px;">Certification</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/26/sitebuilding/">网站主题更换备忘录</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/05/AlterXMLScheme/">解析xml修改切片原点绕开工具的坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/11/ReadingPyScriptingforAGS/">《面向ArcGIS的Python脚本编程》读后</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/19/AutoPublishingService/">通过arcpy自动发布服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/13/AddLiveRe/">Add LiveRe Comments</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/ProNamedUserforPortalUse/">如何部署通过Portal管理的ArcGIS Pro Named User许可？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/14/tidyup/">tidy up the code ...</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/01/AGSEntAdminCA/">ArcGIS Enterprise Administration 10.5 Certification</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/26/AGSDeskProCA/">ArcGIS Desktop Professional 10.5 Certification</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/SpatialInteroplation/">小结空间插值分析</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://zhihu.esrichina.com.cn/" title="ArcGIS知乎" target="_blank">ArcGIS知乎</a><ul></ul><a href="http://blog.newnaw.com/" title="菩提老王的葡萄架子" target="_blank">菩提老王的葡萄架子</a><ul></ul><a href="http://oopsliu.com/" title="OopsLiu" target="_blank">OopsLiu</a><ul></ul><a href="https://makeling.github.io/" title="UBUNTU SPACE" target="_blank">UBUNTU SPACE</a><ul></ul><a href="http://blog.csdn.net/kikitamoon" title="慕名ArcGIS_CSDN" target="_blank">慕名ArcGIS_CSDN</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">kikita &amp; Maps.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>